{% extends 'layoutUnlogged.html.twig' %}
        {% block title %}
            Bienvenue sur Stras'Help
        {% endblock %}

{% block menu %}
    <div class="row headerMenuUnlogger unlogged">
        <div class="item home text-white"><a href="/Session/login"><i class="fas fa-sign-in-alt"></i><span>Se connecter</span></a></div>
    </div>
{% endblock %}

        {% block content %}
        <h1 class="h3 text-center mt-2">Formulaire d'inscription</h1>
        <form class="Session_form text-center border border-light p-4 col-md-4 col-sm-8 col-12 offset-md-4 offset-sm-2" target="" method="POST" enctype="multipart/form-data">
                <div>
                    <p>Vous devez être majeur et habiter Strasbourg<br/>
                        pour vous inscrire.</p>
                    <fieldset class="mt-2">
                        {% if errors.dateOfBirth != "" %}
                            <h5 class="h6 text-danger">{{ errors.dateOfBirth }}</h5>
                        {% endif %}
                        <div class="form-row">
                            <div class="form-group col-md-3 offset-md-1 col-sm-8 offset-sm-2">
                                <label for="dayOfBirth">Jour</label><br/>
                                <input class="form-control text-center" type="number" id="dayOfBirth" name="dayOfBirth" pattern="[0-9]{2}" minlength="1" maxlength="2" min="1" max="31" placeholder="jj" value="{{ dayOfBirth }}" required autofocus>
                            </div>
                            <div class="form-group col-md-3 offset-md-0 col-sm-8 offset-sm-2">
                                <label for="monthOfBirth">Mois</label><br/>
                                <input class="form-control text-center" type="number" id="monthOfBirth" name="monthOfBirth" pattern="[0-9]{2}" minlength="1" maxlength="2" min="1" max="12" placeholder="mm" value="{{ monthOfBirth }}" required>
                            </div>
                            <div class="form-group col-md-4 offset-md-0 col-sm-8 offset-sm-2">
                                <label for="yearOfBirth">Année</label><br/>
                                <input class="form-control text-center" type="number" id="yearOfBirth" name="yearOfBirth" pattern="^[0-9]*$" minlength="4" maxlength="4"  min="1920" max="2025" placeholder="aaaa" value="{{ yearOfBirth }}" required>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="cachee" style="display: {{ display2 }}">
                    <hr/>
                    <div class="profilPic">
                        <div class="overlay-image" onclick="document.getElementById('avatar').click()">
                            <a href="" ><img class="image" src="{{ avatar }}" alt="image de profil par défaut" id="profilPic" /></a>
                            <div class="hover">
                                <img class="image" src="{{ avatar }}" alt="image de profil par défaut" id="profilPicHover"/>
                                <div class="fas fa-camera-retro text"></div>
                                <div class="text2">Changer de photo</div>
                                <input type="hidden" name="MAX_FILE_SIZE" value="0" />
                                <input type="hidden" name="bricolage" value="0" />
                                <input type="hidden" name="cuisine" value="0" />
                                <input type="hidden" name="éducation" value="0" />

                            </div>
                        </div>
                    </div>
                    <div style="display: none">
                                <input type="file" name="fichier" id="avatar" onchange="readURL(this);"/>
                    </div>
                    <hr/>
                    <div class="mt-2">
                        {% if errors.login != "" %}
                            <h5 class="h6 text-danger">{{ errors.login }}</h5>
                        {% endif %}
                        <label for="login">Choississez un login</label><br/>
                        <input class="form-control" type="text" id="login"  name="login" value="{{ login }}" placeholder="login" required>
                    </div>
                    <div class="mt-2">
                        {% if errors.email != "" %}
                            <h5 class="h6 text-danger">{{ errors.email }}</h5>
                        {% endif %}
                        <label for="email">Votre e-mail</label><br/>
                        <input class="form-control" type="email" id="email"  name="email" value="{{ email }}" placeholder="monadresse@site.com" required>
                    </div>
                    <div class="mt-2">
                        <label for="emailConf">Confirmez votre e-mail</label><br/>
                        <input class="form-control" type="email" id="emailConf"  name="emailConf" value="{{ emailConf }}" placeholder="monadresse@site.com" required>
                    </div>
                    <div class="mt-2">
                        {% if errors.password != "" %}
                            <h5 class="h6 text-danger">{{ errors.password }}</h5>
                        {% endif %}
                        <label for="password">Saississez un mot de passe<br/><i style="font-size: 0.8em">(8 caractères minimum dont 1 majuscule et 1 chiffre)</i></label><br/>
                        <input class="form-control" type="password" id="password"  name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" value="{{ password }}" placeholder="mot de passe" required>
                        <input class="form-control mt-2" type="password" id="passwordConf"  name="passwordConf" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" value="{{ passwordConf }}" placeholder="Confirmez votre mot de passe" required>
                    </div>
                    <fieldset>
                        <div class="form-row mt-2">
                            <div class="form-group col-6">
                                {% if errors.lastname != "" %}
                                    <h5 class="h6 text-danger">{{ errors.lastname }}</h5>
                                {% endif %}
                                <label for="lastname">Nom</label><br/>
                                <input class="form-control" type="text" id="lastname"  name="lastname" value="{{ lastname }}" placeholder="Nom de famille" required>
                            </div>
                            <div class="form-group col-6">
                                {% if errors.firstname != "" %}
                                    <h5 class="h6 text-danger">{{ errors.firstname }}</h5>
                                {% endif %}
                                <label for="firstname">Prénom</label><br/>
                                <input class="form-control" type="text" id="firstname"  name="firstname" value="{{ firstname }}" placeholder="Prénom" required>
                            </div>
                        </div>

                        <div class="mt-2">
                            {% if errors.adresse_1 != "" %}
                                <h5 class="h6 text-danger">{{ errors.adresse_1 }}</h5>
                            {% endif %}
                            <label for="adresse_1">Adresse</label><br/>
                            <input class="form-control" type="text" id="adresse_1" name="adresse_1" value="{{ adresse_1 }}" required  />
                        </div>
                        <div class="mt-2">
                            <label for="adresse_2">Adresse complément <i>(optionnel)</i></label><br/>
                            <input class="form-control" type="text" id="adresse_2" name="adresse_2" value="{{ adresse_2 }}"/>
                        </div>

                        <div class="form-row mt-2">

                            {% if errors.zipcode != "" %}
                                <div>
                                    <h5 class="h6 text-danger">{{ errors.zipcode }}</h5>
                                </div>
                            {% endif %}
                            <div class="form-group col-3">
                                <label for="zipcode">C.P.</label><br/>
                                <input class="form-control" type="text" id="zipcode" name="zipcode" pattern="[0-9]{5}" minlength="5" maxlength="5" value="{{ zipcode }}" required/>
                            </div>
                            <div class="form-group col-9">
                                <label for="city">Ville</label><br/>
                                <input class="form-control" type="text" id="city" name="city" value="STRASBOURG" required>
                            </div>
                        </div>
                        <div>
                            {% if errors.phone != "" %}
                                <h5 class="h6 text-danger">{{ errors.phone }}</h5>
                            {% endif %}
                            <label for="phone">Téléphone <i>(fixe ou portable)</i></label><br/>
                            <input class="form-control text-center" type="text" id="phone" name="phone" pattern="(01|02|03|04|05|06|07|08|09)[ \.\-\/]?[0-9]{2}[ \.\-\/]?[0-9]{2}[ \.\-\/]?[0-9]{2}[ \.\-\/]?[0-9]{2}" minlength="10" maxlength="10" placeholder="0612345678" value="{{ phone }}"  required>
                        </div>
                        <fieldset>
                            <div class="mt-4">Vos Compétences</div>
                            <div class="row justify-content-around ">
                        {% for cat in category %}
                            <div>
                                <input type="checkbox" id="{{ cat.name }}" name="{{ cat.name }}" {% if _context[cat.name] != '0' and _context[cat.name] != '' %}checked{%  endif %}>
                                <label for="{{ cat.name }}">{{ cat.name | capitalize}}</label>
                            </div>
                        {% endfor %}
                            </div>
                        <div class="mt-2">
                            <label for="description">Description</label><br/>
{#                            <textarea id="editor" name="description">{{ description }}</textarea>#}
                            <textarea class="form-control" name="description" id="editor" rows="5" placeholder="Parlez de vous...">{{ description }}</textarea>
                        </div>
                        </fieldset>
                    </fieldset>
                    <div  class="button my-2">
                        <button class="btn btn-info btn-block mb-2" type="submit">Envoyer</button>
                    </div>
                </div>

                <div class="cachee" style="display: {{ display1 }}">
                    <div class="form-group col-10 offset-1">
                        <label for="zipcode">Votre code postal</label><br/>
                        <input class="form-control text-center" type="number" id="zipcode2" name="zipcode2" pattern="[0-9]{5}" minlength="5" maxlength="5"  min="67000" max="67200" step="100" value="{{ zipcode }}" required>
                    </div>
                    <div  class="button">
                        <button type="button" class="btn btn-info btn-block col-6 offset-3 mb-2" onmouseup="toggleInscription('cachee')">Suivant</button>
                    </div>
                </div>

        </form>
    </div>
            <div>
                &nbsp;<br/>
                &nbsp;<br/>
                &nbsp;<br/>
                &nbsp;<br/>
                &nbsp;<br/>
            </div>
{% endblock %}
{% block javascript %}
<script>
ClassicEditor
    .create( document.querySelector( '#editor' ), {
        toolbar: [ 'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote' ],
        heading: {
            options: [
                { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
                { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }
            ]
        }
    } )
    .catch( error => {
        console.log( error );
    } );
</script>
{% endblock %}